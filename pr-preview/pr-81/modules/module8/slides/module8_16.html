<!DOCTYPE html>
<html lang="en"><head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-99fa6729ad23987aafeada22b1565191.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.43">

  <title>Programming in Python for Data Science – Working with Dates and Time</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #383a42;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #383a42; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #50a14f; } /* Annotation */
    code span.at { color: #a626a4; } /* Attribute */
    code span.bn { color: #986801; } /* BaseN */
    code span.bu { color: #a626a4; } /* BuiltIn */
    code span.cf { color: #a626a4; } /* ControlFlow */
    code span.ch { color: #50a14f; } /* Char */
    code span.cn { color: #986801; } /* Constant */
    code span.co { color: #a0a1a7; font-style: italic; } /* Comment */
    code span.cv { color: #e45649; font-style: italic; } /* CommentVar */
    code span.do { color: #e45649; } /* Documentation */
    code span.dt { color: #a626a4; } /* DataType */
    code span.dv { color: #986801; } /* DecVal */
    code span.er { color: #f44747; text-decoration: underline; } /* Error */
    code span.ex { color: #4078f2; font-weight: bold; } /* Extension */
    code span.fl { color: #986801; } /* Float */
    code span.fu { color: #4078f2; } /* Function */
    code span.im { color: #50a14f; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #a626a4; } /* Keyword */
    code span.op { color: #a626a4; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #a626a4; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #0184bc; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #50a14f; } /* String */
    code span.va { color: #e45649; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto-02ec553455131a570a2f3558585aef54.css">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-notes="" class="quarto-title-block center">
  <h1 class="title">Working with Dates and Time</h1>

<div class="quarto-title-authors">
</div>

</section>
<section class="slide level2">


<img data-src="../../../static/module4/full.png" class="quarto-figure quarto-figure-center r-stretch" style="width:100.0%" alt="404 image"><aside class="notes">
<p>It wasn’t too long ago in Module 4, where we briefly mentioned another column dtype called <code>datetime64</code> and <code>timedelta[ns]</code>.</p>
<p>Dates and times can be a bit tricky and require a specific data type so that analysis can be done correctly.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="924e8b7a" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a aria-hidden="true" tabindex="-1"></a>cycling.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Sep-12-2019 07:06</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Sep-12-2019 17:28</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="2d380b9a" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a aria-hidden="true" tabindex="-1"></a>cycling.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>Date         object
Name         object
Type         object
Time          int64
Distance    float64
Comments     object
dtype: object</code></pre>
</div>
</div>
<aside class="notes">
<p>Let’s take our cycling dataset as an example.</p>
<p>Our date column in our cycling dataframe currently has a dtype value of <code>object</code>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="783cbafc" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a aria-hidden="true" tabindex="-1"></a>cycling.sort_values(<span class="st">'Date'</span>).head(<span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Oct-01-2019 06:53</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2118</td>
<td>12.71</td>
<td>Rested after the weekend!</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Oct-01-2019 17:15</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1732</td>
<td>NaN</td>
<td>Legs feeling strong!</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Oct-02-2019 06:45</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2222</td>
<td>12.82</td>
<td>Beautiful morning! Feeling fit</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
</tbody>
</table>

<p>15 rows × 6 columns</p>
</div>
</div>
</div>
<aside class="notes">
<p>When we try to sort these values, it doesn’t recognize the day or month values and will sort them in some ascending order that is not temporal.</p>
<p>We can see that this sorted starts with October 1st, 2019, followed by September 10th, 2019, and then September 11th, 2019.</p>
<p>Python is purely sorting the rows by month and not taking the day into consideration.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="db4b1dd5" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a aria-hidden="true" tabindex="-1"></a>cycling.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Sep-12-2019 07:06</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Sep-12-2019 17:28</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="527e2405" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> (cycling[<span class="st">'Date'</span>].<span class="bu">str</span>.split(<span class="st">' '</span>, expand<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-2"><a aria-hidden="true" tabindex="-1"></a>                           .rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">'Date'</span>,</span>
<span id="cb6-3"><a aria-hidden="true" tabindex="-1"></a>                                              <span class="dv">1</span>:<span class="st">'Time'</span>}))</span>
<span id="cb6-4"><a aria-hidden="true" tabindex="-1"></a>dates.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019</td>
<td>17:13</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019</td>
<td>06:52</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019</td>
<td>17:23</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Sep-12-2019</td>
<td>07:06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Sep-12-2019</td>
<td>17:28</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<p>We can try parsing dates ourselves, but that can be difficult and time-consuming.</p>
<p>To demonstrate this, let’s make an attempt at parsing the <code>Date</code> column in our <code>cycling</code> dataframe, which currently has an <code>object</code> dtype.</p>
<p>First, we would need to split the column separating the date and the time and rename the labels 0 and 1 to <code>Date</code> and <code>Time</code> respectively.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="8752a435" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> (dates[<span class="st">'Date'</span>].<span class="bu">str</span>.split(<span class="st">'-'</span>, expand<span class="op">=</span><span class="va">True</span>).rename(columns <span class="op">=</span> {<span class="dv">0</span>:<span class="st">'Month'</span>,</span>
<span id="cb7-2"><a aria-hidden="true" tabindex="-1"></a>                                                                     <span class="dv">1</span>:<span class="st">'Day'</span>,</span>
<span id="cb7-3"><a aria-hidden="true" tabindex="-1"></a>                                                                     <span class="dv">2</span>:<span class="st">'Year'</span>}))</span>
<span id="cb7-4"><a aria-hidden="true" tabindex="-1"></a>dates.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">Day</th>
<th data-quarto-table-cell-role="th">Year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep</td>
<td>10</td>
<td>2019</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep</td>
<td>11</td>
<td>2019</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep</td>
<td>11</td>
<td>2019</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Sep</td>
<td>12</td>
<td>2019</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Sep</td>
<td>12</td>
<td>2019</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<p>Once again, we need to split the date column using <code>str.split(),</code> which we learned in Module 4, and separate it into columns for the year, month and day.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="cbc662b6" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a>dates.iloc[<span class="dv">0</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>'10'</code></pre>
</div>
</div>
<p><br></p>
<div id="9b3e8eb8" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(dates.iloc[<span class="dv">0</span>,<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>str</code></pre>
</div>
</div>
<aside class="notes">
<p>Currently, the values in <code>dates</code> are of type <code>str</code>, so we would not be able to sort them in a temporal manner.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="cb504b2c" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates <span class="op">=</span> (cycling.assign(Year <span class="op">=</span> dates[<span class="st">'Year'</span>].astype(<span class="bu">int</span>),</span>
<span id="cb12-2"><a aria-hidden="true" tabindex="-1"></a>                                Month <span class="op">=</span>  dates[<span class="st">'Month'</span>],</span>
<span id="cb12-3"><a aria-hidden="true" tabindex="-1"></a>                                Day <span class="op">=</span> dates[<span class="st">'Day'</span>].astype(<span class="bu">int</span>))</span>
<span id="cb12-4"><a aria-hidden="true" tabindex="-1"></a>                                )</span>
<span id="cb12-5"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Comments</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">Day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>...</td>
<td>Rain</td>
<td>2019</td>
<td>Sep</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>...</td>
<td>rain</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>...</td>
<td>Wet road but nice whether</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
</tr>
</tbody>
</table>

<p>3 rows × 9 columns</p>
</div>
</div>
</div>
<p><br></p>
<div id="65d25945" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates <span class="op">=</span> cycling_dates.loc[:, [<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Day'</span>, <span class="st">'Name'</span>,</span>
<span id="cb13-2"><a aria-hidden="true" tabindex="-1"></a>                                      <span class="st">'Type'</span>, <span class="st">'Time'</span>, <span class="st">'Distance'</span>, <span class="st">'Comments'</span>]]</span>
<span id="cb13-3"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">Day</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019</td>
<td>Sep</td>
<td>10</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<p>We must convert the columns to integers values and add them to the <code>cycling_dates</code> dataframe.</p>
<p>We are then going to select and reorder the columns in the dataframe, so the new date columns are on the left side.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="db7173ad" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.sort_values([<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Day'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">Day</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>2019</td>
<td>Oct</td>
<td>1</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2118</td>
<td>12.71</td>
<td>Rested after the weekend!</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>2019</td>
<td>Oct</td>
<td>1</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1732</td>
<td>NaN</td>
<td>Legs feeling strong!</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>2019</td>
<td>Oct</td>
<td>2</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2222</td>
<td>12.82</td>
<td>Beautiful morning! Feeling fit</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>2019</td>
<td>Sep</td>
<td>26</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1860</td>
<td>12.52</td>
<td>raining</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>2019</td>
<td>Sep</td>
<td>27</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2350</td>
<td>12.91</td>
<td>Detour around trucks at Jericho</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>2019</td>
<td>Sep</td>
<td>27</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1712</td>
<td>12.47</td>
<td>Tired by the end of the week</td>
</tr>
</tbody>
</table>

<p>33 rows × 8 columns</p>
</div>
</div>
</div>
<aside class="notes">
<p>Now we try to sort them, but how do we sort the <code>month</code> column?</p>
<p>It now incorrectly sorts the rows by listing the October rows before September.</p>
<p>It must be quite evident that we really don’t want to do it this way, right?</p>
<p>There are a lot of limitations, and we haven’t yet separated the time.</p>
<p>Calculating the time between dates now can also be extremely difficult.</p>
<p>(The differing number of days in months is a contributing factor.)</p>
<p>Thankfully we don’t have to do it this way.</p>
<p>Pandas have some built-in functions that will make our lives much easier.</p>
<p>By the end of this slide deck, we will be able to answer the question of <em>what was Tom’s longest time between rides</em>.</p>
<p>This is a question that without pandas, would have taken hours, instead of minutes.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="pandas-parse_dates" class="slide level2">
<h2>Pandas parse_dates</h2>
<div id="c8f108b6" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a aria-hidden="true" tabindex="-1"></a>cycling <span class="op">=</span> pd.read_csv(<span class="st">'data/cycling_data.csv'</span>)</span>
<span id="cb15-2"><a aria-hidden="true" tabindex="-1"></a>cycling.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="fd2d963a" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a aria-hidden="true" tabindex="-1"></a>cycling.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>Date         object
Name         object
Type         object
Time          int64
Distance    float64
Comments     object
dtype: object</code></pre>
</div>
</div>
<aside class="notes">
<p>Remember How Pandas is built using the NumPy library?</p>
<p>Well in a similar way, Pandas datetime verbs are built using the built-in Python library; <a href="https://docs.python.org/3/library/datetime.html" target="_blank"><code>datetime</code> </a>.</p>
<p>We can parse our data at the same time as we read in our dataframe using the argument <code>parse_dates</code>.</p>
<p>Originally the <code>Date</code> column adopts a dtype of <code>object</code> when the data is read in.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="b71204b5" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates <span class="op">=</span> pd.read_csv(<span class="st">'data/cycling_data.csv'</span>, parse_dates <span class="op">=</span> [<span class="st">'Date'</span>])</span>
<span id="cb18-2"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019-09-12 07:06:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019-09-12 17:28:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="e5a8234f" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>Date        datetime64[ns]
Name                object
Type                object
Time                 int64
Distance           float64
Comments            object
dtype: object</code></pre>
</div>
</div>
<aside class="notes">
<p>Using the <code>parse_dates</code>argument with <code>pd.read_csv()</code>, transforms the column so that so that it now adopts a <code>datetime64</code> dtype.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="2bf4c858" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a>cycling_dates.sort_values(<span class="st">'Date'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30</td>
<td>2019-10-10 18:10:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1841</td>
<td>12.59</td>
<td>Feeling good after a holiday break!</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31</td>
<td>2019-10-11 07:47:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2463</td>
<td>12.79</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32</td>
<td>2019-10-11 18:16:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1843</td>
<td>11.79</td>
<td>Bike feeling tight, needs an oil and pump</td>
</tr>
</tbody>
</table>

<p>33 rows × 6 columns</p>
</div>
</div>
</div>
<aside class="notes">
<p>Now that we have a datetime column which expresses when Tom began his journey, we can sort our dataframe in a temporal manner, properly now:</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="0fa97c06" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">'data/cycling_data_split_time.csv'</span>).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">Day</th>
<th data-quarto-table-cell-role="th">Clock</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019</td>
<td>Sep</td>
<td>10</td>
<td>17:13:04</td>
<td>...</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
<td>06:52:18</td>
<td>...</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019</td>
<td>Sep</td>
<td>11</td>
<td>17:23:50</td>
<td>...</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice weather</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019</td>
<td>Sep</td>
<td>12</td>
<td>07:06:19</td>
<td>...</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019</td>
<td>Sep</td>
<td>12</td>
<td>17:28:05</td>
<td>...</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week</td>
</tr>
</tbody>
</table>

<p>5 rows × 9 columns</p>
</div>
</div>
</div>
<p><br></p>
<div id="c76acbfc" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a aria-hidden="true" tabindex="-1"></a>(pd.read_csv(<span class="st">'data/cycling_data_split_time.csv'</span>,</span>
<span id="cb23-2"><a aria-hidden="true" tabindex="-1"></a>              parse_dates<span class="op">=</span>{<span class="st">'Date'</span>: [<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Day'</span>, <span class="st">'Clock'</span>]})</span>
<span id="cb23-3"><a aria-hidden="true" tabindex="-1"></a>              .head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:04</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:18</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:50</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice weather</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019-09-12 07:06:19</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019-09-12 17:28:05</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<p>As another example, our date data may be split between multiple columns.</p>
<p>We can combine the <code>Year</code>, <code>Month</code>, and <code>Day</code> columns to a single datetime column by using a dictionary within the <code>parse_dates</code> argument.</p>
<p>The dictionary key indicates the new column name, and the dictionary value is a list with the multiple date columns to combine.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="8dc37903" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a aria-hidden="true" tabindex="-1"></a>cycling <span class="op">=</span> pd.read_csv(<span class="st">'data/cycling_data.csv'</span>)</span>
<span id="cb24-2"><a aria-hidden="true" tabindex="-1"></a>cycling.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Sep-10-2019 17:13</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Sep-11-2019 06:52</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Sep-11-2019 17:23</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Sep-12-2019 07:06</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Sep-12-2019 17:28</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="d7c8c8b7" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a aria-hidden="true" tabindex="-1"></a>cycling.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>Date         object
Name         object
Type         object
Time          int64
Distance    float64
Comments     object
dtype: object</code></pre>
</div>
</div>
<aside class="notes">
<p>What if we need to convert a column into dtype <code>datetime</code> after reading in our data?</p>
<p>That’s not a problem! We have <code>pd.to_datetime()</code> to transform columns of an already existing dataframe.</p>
<p>Let’s use our original <code>cycling</code> dataframe where <code>Date</code> is still of dtype <code>object</code>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="06a822e5" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling <span class="op">=</span> cycling.assign(Date <span class="op">=</span> pd.to_datetime(cycling[<span class="st">'Date'</span>]))</span>
<span id="cb27-2"><a aria-hidden="true" tabindex="-1"></a>new_cycling.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019-09-12 07:06:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019-09-12 17:28:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<div id="0aced7e9" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling.dtypes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>Date        datetime64[ns]
Name                object
Type                object
Time                 int64
Distance           float64
Comments            object
dtype: object</code></pre>
</div>
</div>
<aside class="notes">
<p>To convert <code>Date</code> to a datetime dtype, we use <code>pd.to_datetime()</code> and <code>assign()</code>.</p>
<p>Now in the <code>new_cycling</code> dataframe, we see that the column <code>Date</code> is now of type <code>datetime64[ns]</code></p>
<p>Ok, but what if I don’t want the full datetime value, and I want a column with only a portion of it, like the month or year?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#time-date-components" target="_blank"> Pandas datetime tools</a></p>
<ul>
<li><code>.dt.day_name()</code> for the day of the week:</li>
</ul>
<div id="c8fb630a" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling[<span class="st">'Date'</span>].dt.day_name().head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>0      Tuesday
1    Wednesday
2    Wednesday
Name: Date, dtype: object</code></pre>
</div>
</div>
<p><br></p>
<div id="19a1bcd8" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling.assign(weekday <span class="op">=</span> new_cycling[<span class="st">'Date'</span>].dt.day_name()).head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
<th data-quarto-table-cell-role="th">weekday</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
<td>Tuesday</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
<td>Wednesday</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
<td>Wednesday</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<p>No worries, we can add a new column to our dataframe in a similar as we did before, but now we can extract a portion of the <code>datetime</code> column by using <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html#time-date-components" target="_blank">one of the many pandas datetime tools</a>.</p>
<p>Here are a couple of examples:</p>
<ul>
<li><code>.dt.day_name()</code> for the day of the week, which we can pair this with <code>.assign()</code> to add this as a column in the dataframe.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="5eec5e47" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling[<span class="st">'Date'</span>].dt.day.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>0    10
1    11
2    11
3    12
4    12
Name: Date, dtype: int32</code></pre>
</div>
</div>
<p><br></p>
<div id="9995260b" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling.assign(day <span class="op">=</span> new_cycling[<span class="st">'Date'</span>].dt.day).head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
<th data-quarto-table-cell-role="th">day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
<td>10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
<td>11</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
<td>11</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019-09-12 07:06:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
<td>12</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019-09-12 17:28:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
<td>12</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<aside class="notes">
<ul>
<li><code>.dt.day</code> for the day which we can again use with <code>.assign()</code> to add it to our dataframe.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<p>Here are some of the most common useful datetime tools:</p>
<ul>
<li><code>.dt.year</code></li>
<li><code>.dt.month</code></li>
<li><code>.dt.month_name()</code></li>
<li><code>.dt.day</code></li>
<li><code>.dt.day_name()</code></li>
<li><code>.dt.hour</code></li>
<li><code>.dt.minute</code></li>
</ul>
<p>For a full list, refer to <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Timestamp.html#:~:text=Timestamp%20is%20the%20pandas%20equivalent,oriented%20data%20structures%20in%20pandas.&amp;text=Value%20to%20be%20converted%20to%20Timestamp.&amp;text=Offset%20which%20Timestamp%20will%20have." target="_blank">the attributes and methods section of the Timestamp documentation</a>.</p>
<aside class="notes">
<p>There is some inconsistency with these verbs. You can see that some use parentheses <code>()</code> and some do not.</p>
<p>Using the <code>.dt</code> portion of these can only be used on a pandas Series. We can extract the day, month, year, hour, or minute from a single datetime value, using the same nouns but omitting the <code>.dt</code>.</p>
<p>Let’s see how that’s possible.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="963f3d84" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a aria-hidden="true" tabindex="-1"></a>new_cycling.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th">Time</th>
<th data-quarto-table-cell-role="th">Distance</th>
<th data-quarto-table-cell-role="th">Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2019-09-10 17:13:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>2084</td>
<td>12.62</td>
<td>Rain</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2019-09-11 06:52:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2531</td>
<td>13.03</td>
<td>rain</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2019-09-11 17:23:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1863</td>
<td>12.52</td>
<td>Wet road but nice whether</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2019-09-12 07:06:00</td>
<td>Morning Ride</td>
<td>Ride</td>
<td>2192</td>
<td>12.84</td>
<td>Stopped for photo of sunrise</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2019-09-12 17:28:00</td>
<td>Afternoon Ride</td>
<td>Ride</td>
<td>1891</td>
<td>12.48</td>
<td>Tired by the end of the week.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><br></p>
<p>If I select the first example in row 1 of our <code>new_cycling</code> dataset, you’ll notice that it outputs something called a <code>Timestamp</code>.</p>
<div id="d3b28c4e" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex <span class="op">=</span> new_cycling.loc[<span class="dv">1</span>,<span class="st">'Date'</span>]</span>
<span id="cb37-2"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>Timestamp('2019-09-11 06:52:00')</code></pre>
</div>
</div>
<aside class="notes">
<p>If I select the first example in row 1 of our <code>new_cycling</code> dataset, you’ll notice that it outputs something called a <code>Timestamp</code>.</p>
<p>This is a pandas data type.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="a545324b" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>Timestamp('2019-09-11 06:52:00')</code></pre>
</div>
</div>
<p><br></p>
<div id="603b8ff6" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex.month_name()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>'September'</code></pre>
</div>
</div>
<p><br></p>
<div id="95dd1dd1" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex.day</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>11</code></pre>
</div>
</div>
<p><br></p>
<div id="6458163a" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a aria-hidden="true" tabindex="-1"></a>timestamp_ex.hour</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>6</code></pre>
</div>
</div>
<aside class="notes">
<p>Timestamps show a snapshot of when an event has occurred. Timestamps are complete with both dates and times. If the date and time are not available in your original data, Python will fill in any temporal unknowns with default values (often with <code>00:00:00</code> for time, if only the date was provided).</p>
<p>To obtain the month name, day, or hour from the Timestamp, we can use the same nouns in the previous slide without <code>.dt</code>.</p>
<p>Here we get the <code>.mount_name()</code>, the <code>.day</code> and the <code>.hour</code> of a single value by using the same verbs as before but omitting the <code>.dt</code>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="diff" class="slide level2">
<h2>.diff()</h2>
<div id="977a5583" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals <span class="op">=</span> new_cycling[<span class="st">'Date'</span>].sort_values().diff()</span>
<span id="cb47-2"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>0                NaT
1    0 days 13:39:00
2    0 days 10:31:00
           ...      
30   0 days 10:15:00
31   0 days 13:37:00
32   0 days 10:29:00
Name: Date, Length: 33, dtype: timedelta64[ns]</code></pre>
</div>
</div>
<aside class="notes">
<p>In our analysis, it might be important to know how frequent events occur and the time between them.</p>
<p><code>.diff()</code> is a useful function for that.</p>
<p>This outputs a pandas Series with the time that occurs between rows. As you can see, there was a 10 hour and 22minute gap between Tom’s third and forth bike rides. Wow - that’s a long workday!”</p>
<p>Here, you’ll now notice a new dtype at the bottom of our new pandas Series named <a href="https://docs.python.org/2/library/datetime.html" target="_blank"><code>timedelta64</code></a>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="timedelta" class="slide level2">
<h2>timedelta</h2>
<div id="36f24d1f" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>Timedelta('0 days 13:39:00')</code></pre>
</div>
</div>
<p><br></p>
<div id="7ccf296d" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals[<span class="dv">1</span>].seconds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>49140</code></pre>
</div>
</div>
<p><br></p>
<div id="b7d62363" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a aria-hidden="true" tabindex="-1"></a>sec_per_hour <span class="op">=</span> <span class="dv">60</span> <span class="op">*</span> <span class="dv">60</span></span>
<span id="cb53-2"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals[<span class="dv">1</span>].seconds <span class="op">/</span> sec_per_hour</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>13.65</code></pre>
</div>
</div>
<aside class="notes">
<p>Unlike a <code>Timestamp</code> that represents a snapshot in time, <code>timedelta</code> represents a duration or an interval of time.</p>
<p>Here we can obtain the time between 2 trips.</p>
<p>Measurement can only be extracted from the timedelta object using either <code>days</code>, <code>seconds</code>, and <code>microseconds</code> verbs.</p>
<p>Here we obtain the number of seconds.</p>
<p>We can convert them into other units by using simple operations.</p>
<p>In this case, we convert it to hours by dividing it by the number of seconds in an hour.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div id="aed84ca7" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals.<span class="bu">max</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>Timedelta('5 days 13:47:00')</code></pre>
</div>
</div>
<p><br></p>
<div id="d961f6f7" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a aria-hidden="true" tabindex="-1"></a>cycling_intervals.<span class="bu">min</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>Timedelta('0 days 10:15:00')</code></pre>
</div>
</div>
<p><br></p>
<div id="275eee58" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a aria-hidden="true" tabindex="-1"></a>interval_range <span class="op">=</span> cycling_intervals.<span class="bu">max</span>() <span class="op">-</span> cycling_intervals.<span class="bu">min</span>()</span>
<span id="cb59-2"><a aria-hidden="true" tabindex="-1"></a>interval_range</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>Timedelta('5 days 03:32:00')</code></pre>
</div>
</div>
<aside class="notes">
<p>Timedelta objects have a lot of functionality.</p>
<p>We can use a summary statistic verbs with them.</p>
<p>For example, we can calculate the maximum amount of time between rides.</p>
<p>As well as the minimum.</p>
<p>We can also do a simple operation with them, like finding the range.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="lets-apply-what-we-learned" class="title-slide slide level1 center">
<h1>Let’s apply what we learned!</h1>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: false,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: true,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: '100%',

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>